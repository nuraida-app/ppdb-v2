import{r as c,$ as x,E as S,j as t,I as f,p as y,s as j}from"./index-CStZSlMe.js";import{A as I}from"./AdminLayout-CU4RY8Jx.js";import{S as k}from"./index-BjnjwqG5.js";import{F as w}from"./Table-qCIr8sZs.js";import"./CalendarOutlined-C6xbjP1n.js";import"./index-BgWxMBed.js";import"./index-C594BSNH.js";import"./Pagination-Bimwde8a.js";const P=()=>{const[s,l]=c.useState(""),[e,i]=c.useState({current:1,pageSize:10}),[p,{data:r,isLoading:d}]=x(),m=async(a=1,o=10,n="")=>{try{await p({page:a,limit:o,search:n})}catch{j.error("Gagal mengambil data pengguna")}};S.useEffect(()=>{m(e.current,e.pageSize,s)},[e.current,e.pageSize,s]);const g=a=>{i(a)},h=a=>{l(a),i({...e,current:1})},u=[{title:"No",key:"no",render:(a,o,n)=>(e.current-1)*e.pageSize+n+1},{title:"User_id",dataIndex:"id",key:"id"},{title:"Nama",dataIndex:"nama",key:"nama"},{title:"Email",dataIndex:"email",key:"email"},{title:"Whatsapp",dataIndex:"tlp",key:"tlp",render:a=>t.jsx("a",{href:`https://wa.me/${a}`,target:"_blank",rel:"noopener noreferrer",children:a})}];return t.jsxs(I,{title:"Manajemen Pengguna",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(k,{children:t.jsx(f.Search,{placeholder:"Cari pengguna",onSearch:h,style:{width:200},prefix:t.jsx(y,{})})})}),t.jsx(w,{columns:u,dataSource:r==null?void 0:r.users,rowKey:"id",pagination:{...e,total:(r==null?void 0:r.totalPages)*e.pageSize},loading:d,onChange:g})]})};export{P as default};
